<script>
    document.getElementById("theme-toggle").addEventListener("click", (e) => {
        e.stopImmediatePropagation();
        const html = document.documentElement;
        const toggle = () => {
            if (html.dataset.theme === "dark") {
                html.dataset.theme = "light";
                localStorage.setItem("pref-theme", "light");
            } else {
                html.dataset.theme = "dark";
                localStorage.setItem("pref-theme", "dark");
            }
        };
        if (document.startViewTransition) {
            document.startViewTransition(toggle);
        } else {
            toggle();
        }
    });
</script>
<script>
    if (window.location.host !== "jakebailey.dev") {
        window.goatcounter = { no_onload: true };
    }
</script>
<script data-goatcounter="https://stats.jakebailey.dev/count" async src="/count.js"></script>
